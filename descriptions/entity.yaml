# not updated
# not updated as per code
# will update as soon I finish it

Card:
  description: "Represents a single playing card."
  properties:
    suit:
      type: Suit
      description: "Suit of the card (from constants.Suit)."
    rank:
      type: Rank
      description: "Rank of the card (from constants.Rank)."
  behavior:
    - "Immutable (frozen dataclass)."
    - "__str__(): Returns a string representation as 'SUIT:RANK'."

Deck:
  description: "Represents a deck of cards; supports shuffling and drawing."
  properties:
    cards:
      type: list[Card]
      description: "List of cards currently in the deck."
  behavior:
    - "__full_card(): Generates a full deck of cards."
    - "shuffle(): Shuffles the deck randomly."
    - "draw(n=1): Draws n cards from the deck; returns a single Card if n=1, tuple of Cards if n>1."
    - "is_empty(): Returns True if the deck has no remaining cards."

Hand:
  description: "Represents a player's hand of cards."
  properties:
    is_human:
      type: bool
      description: "Flag indicating if this hand belongs to a human player."
    cards:
      type: list[Card]
      description: "List of cards currently held in the hand."
  behavior:
    - "add(card): Adds a card to the hand."
    - "reveal(choice): Removes and returns a card by index from the hand."
    - "__str__(): Returns a string showing all cards in the hand with indices."

Dealer:
  description: "Handles dealing cards to players."
  properties:
    deck:
      type: Deck
      description: "Deck from which to deal cards."
    human:
      type: Hand
      description: "Pre-created human hand."
    _cards_each:
      type: int
      description: "Number of cards each player should receive (internal/private)."
  behavior:
    - "deal(players): Distributes cards from the deck evenly among the provided Hand objects."

Table:
  description: "Manages game turns and tracks player actions."
  properties:
    players:
      type: list[Hand]
      description: "List of all player hands at the table."
    _turn:
      type: int
      description: "Current turn index (internal/private)."
    _played:
      type: list[bool]
      description: "Tracks whether each player has played in the current hand (internal/private)."
  behavior:
    - "current(): Returns the Hand of the current player."
    - "advance(): Moves to the next player's turn."
    - "perform_action(turn, action, *args, **kwargs): Executes a player's action and advances the turn."
    - "all_hand_revel(): Checks if all players have played in the current hand."
    - "reset_hand_round(): Resets the _played flags for a new round."

deal:
  description: "Distributes cards from a deck to a list of hands (alternative to Dealer class)."
  parameters:
    deck:
      type: Deck
      description: "Deck to draw cards from."
    players:
      type: list[Hand]
      description: "List of Hand objects to receive cards."
  behavior:
    - "Calculates number of cards each player should receive based on the number of ranks."
    - "Deals cards in round-robin order until each player has their full hand."
